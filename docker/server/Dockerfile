FROM golang:1.19 as dev
ENV HELIXF_ROOT=/go/src/app
ENV LINE_SECRET=fd52468c6015095ef4465abfaa7b5c15
ENV LINE_LOGIN_SECRET=7a545e95a6e477c84f8126b881bed822
ENV LINE_ACCESS_TOKEN="0b6pGXzT2mw1/FeDFkuZcQpMhFU9ZjIQ4sGUBB0lzxZ/Uww3yvoyCWPJjvLWs+da4WlPmioTvYpHnjx7HnybCNq998varh4pP3B2JxN1TIJGuvZQM6aqpBlabF7O4DsaH+s2bQztq4jL+LaAqrhXZQdB04t89/1O/w1cDnyilFU="
ENV LINE_CLIENT_ASSERTION='{"alg": "RS256","d": "ZqH7RzKk1QXNe-6aLOQzR8KE7wM1ugftlUzxhBkfJ-SoG_91ED324F9XAS3Rr0EntCumN2SpL7JV-U9yyj0nwAARK5yd6VN8LrwGGgwoHr0aPhN8Mc5_YRLfWU-Ibw15UHb6jgkqNrlRru-XBj1sea4PFnNyjrGLUz2hv2mneg1QpCHaHRmvz6omAuHc8pedP-xtmooaXJDiWBfsYvnfKcgQPfZqP-JxOK8lcB3f4MNVKh2X_ADlaVpC8j9REKFNIwYIZanNRBwTwVzy2yrCAmokpHpEYDzWwmTth3qQwZYs2Cn12zH_wApn1q1CZhU45qTe5n0cCt1HPpCyz765vQ","dp": "k4u67mXiYAXXaNV_tQmoM9z3lpLjrgDMItlCDupwAipcfFBEP22ULp5uJDUX6uhJvc2By2EclA9kaGAKkSs7MDB_ITzB_EMGamUCRUQavS1klQGzpm5ZvsmTRnGHxJBj9SsDPb0CkI8ulhZK4iLdhatSP5sEKiS61On93wgsknM","dq": "1h2Jh9SGnkrUxU0qrm5ofR3fecDJ6E7D0ZnYd86vpjMMWXftOwJ_C_Q6mBQEy1EWf_KKVBsyBu0j9xfx2JP5YN6y6Rj4oXUT23tBONPB2w9A3cVLZUKxKP2W-8EzaUHHPgRNa4s-o2nxGnTAea0oai2NNpu-ouEtjmj9AUSVeqE","e": "AQAB","ext": true,"key_ops": ["sign"],"kty": "RSA","n": "1ydXjRyO9L3Z_nP6UBjUYecakIHx2hM_n8lrr6hPHIQExW01nPtvjbx-yDZ-rh-sc_8FQN_JRP18ygcI8ZEh_RM7jMQ7Dn5CBwkqesaR21D7c99QFYJev4tlYcr51afE_dYjr8O7p-9D_S1YQKluOaUSDEuwPjPPah8VlO1ykfYXfiXb3J1v9bDSmXzy-JaplSEh1wEFBHL4B9jBC4Qof63cRdHActN9xNTnoQrYKzwYfX3DBt9n-0nlsE1ELQ5l9h06bXO2FfpdcPmW9khYtNwMEDLO7jZ9K5znAm4FwMxmOAOXdDP6EA4c_bPU7ZUWOXorL9ZjMRsc25YPIW1idw","p": "-WsqrWtC1_4YMtnKcDKWvCjiK5WY9MVlu77EJ_4J0PzQoFt_clVggdzjnfNPOADStYs2gI6ulWCxpr2fxdMI0x2p6zL6cLJ2groEVWHM3Cbq8erO2mhspMJHuWdci288DaYNwLrLMPYOeCvMhjBYsqmBA1suqMwZPDGYZv9KdJM","q": "3NS20_-r5FpR3SKllAC8p32mTayrPY-yQ3q9IVJw88u72j587xQOHD8RSt0lrHwG5rx0srQPOI9FutGX1f75_hlIhA96KPyjJg9DeRtXbyobk5q0-s2mpF25QujS0u6AVmwD7nABvCixJtw8plwe59HP_p40RVuAbvX1RtCeDQ0","qi": "JH_4gCDGQFlCmN-lMler7SpQ9gNGbodYh-XAJyeQzvHUWdzWkfHe5Q-IDWor-wJUxS5aDd6L0TkM-KCH-A2J8pXEKpUiwFZQ7mbvc6V0pF0kEtffryDymgiYNk3egwu-yoAUBRHV9tf8FuRG7TaOhe1mpt1edU06MrztApfo8rw"}'
COPY src/server $HELIXF_ROOT/src/server
COPY lib $HELIXF_ROOT/lib
WORKDIR $HELIXF_ROOT/src/server
RUN go mod download
CMD ["go", "run", "main.go"]
# CMD ["sleep", "7200"]
